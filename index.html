<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FosterTrack Prototype</title>

  <!-- Google Font for nicer typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-body: #eef3f7;
      --phone-bg: #fdfdfd;
      --accent: #3a7f7b;
      --accent-soft: #e1f2f0;
      --accent-strong: #25524f;
      --text-main: #1f2933;
      --text-muted: #6b7280;
      --card-bg: #f3f4f6;
      --border-subtle: #e0e4ea;
      --danger: #d11a2a;
      --pill-bg: #e6f0ef;
      --pill-border: #b7cfcb;
    }

    * {
      box-sizing: border-box;
      font-family: "Nunito", system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
    }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #f6fbff 0, #eef3f7 40%, #e1e5ee 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .phone {
      width: 390px;
      height: 844px;
      border-radius: 40px;
      border: 10px solid #111827;
      background: var(--phone-bg);
      overflow: hidden;
      position: relative;
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.28),
        0 0 0 1px rgba(148, 163, 184, 0.35);
    }

    .screen {
      width: 100%;
      height: 100%;
      padding: 28px 22px 80px;
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      background: radial-gradient(circle at top, #f9fbff 0, #f6f7fb 55%, #f1f2f6 100%);
    }
    .screen.active { display: block; }

    h1, h2, h3 {
      margin: 0 0 4px;
      font-size: 22px;
      letter-spacing: 0.02em;
      color: var(--text-main);
    }

    /* Top intro text under headings */
    .screen > p {
      margin: 0 0 16px;
      font-size: 14px;
      color: var(--text-muted);
    }

    label {
      font-size: 13px;
      display: block;
      margin-bottom: 4px;
      color: var(--text-muted);
      letter-spacing: 0.02em;
      text-transform: uppercase;
    }

    input, textarea, select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      background: #f4f5f7;
      font-size: 14px;
      color: var(--text-main);
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    input:focus,
    textarea:focus,
    select:focus {
      border-color: var(--accent);
      background: #ffffff;
      box-shadow: 0 0 0 1px rgba(58, 127, 123, 0.2);
    }

    textarea { resize: none; min-height: 90px;}

    .row {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
    }
    .row > .field { flex: 1; }
    .field { margin-bottom: 14px; }

    .button-row {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      gap: 10px;
    }

    button {
      cursor: pointer;
      border-radius: 999px;
      border: none;
      padding: 10px 20px;
      font-size: 15px;
      font-weight: 600;
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.15s ease;
    }

    .btn-primary {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 6px 16px rgba(58, 127, 123, 0.35);
    }

    .btn-primary:hover {
      background: var(--accent-strong);
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(37, 82, 79, 0.4);
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #111827;
    }

    .btn-secondary:hover {
      background: #d1d5db;
      transform: translateY(-1px);
    }

    /* CAT LIST */
    .cat-list {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .cat-card {
      display: flex;
      align-items: center;
      padding: 10px 12px;
      background: #ffffff;
      border-radius: 14px;
      cursor: pointer;
      gap: 10px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.06);
      transition: transform 0.08s ease, box-shadow 0.12s ease, border-color 0.12s ease;
    }

    .cat-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(15, 23, 42, 0.12);
      border-color: rgba(58, 127, 123, 0.4);
    }

    .thumb {
      width: 56px;
      height: 56px;
      background: #d1d5db;
      border-radius: 14px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .thumb.placeholder::before,
    .thumb.placeholder::after {
      content: "";
      position: absolute;
      width: 80%;
      height: 1px;
      background: #666;
      top: 50%; left: 50%;
      transform-origin: center;
    }
    .thumb.placeholder::before { transform: translate(-50%, -50%) rotate(45deg); }
    .thumb.placeholder::after  { transform: translate(-50%, -50%) rotate(-45deg); }

    .cat-name {
      font-size: 16px;
      font-weight: 700;
      color: var(--text-main);
    }

    .cat-subinfo {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .delete-btn {
      margin-left: auto;
      border: none;
      background: none;
      color: var(--danger);
      font-size: 13px;
      cursor: pointer;
      padding: 4px 6px;
      border-radius: 999px;
      transition: background 0.12s ease, transform 0.08s ease;
    }

    .delete-btn:hover {
      background: rgba(209, 26, 42, 0.06);
      transform: translateY(-1px);
    }

    .fab {
      position: absolute;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 60px;
      border-radius: 18px;
      background: var(--accent);
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(37, 82, 79, 0.5);
    }

    .fab::before,
    .fab::after {
      content: "";
      position: absolute;
      background: #fff;
      border-radius: 999px;
    }
    .fab::before { width: 26px; height: 2px; }
    .fab::after { width: 2px; height: 26px; }

    .fab:hover {
      transform: translateX(-50%) translateY(-1px);
      box-shadow: 0 14px 32px rgba(37, 82, 79, 0.6);
    }

    .back-link {
      font-size: 14px;
      margin-bottom: 16px;
      cursor: pointer;
      color: var(--accent-strong);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .back-link::before {
      content: "←";
      font-size: 14px;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    /* PHOTO UPLOAD */

    .photo-preview {
      width: 150px;
      height: 150px;
      background: #e5e7eb;
      border-radius: 20px;
      margin: 0 auto 8px;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px dashed rgba(148, 163, 184, 0.7);
    }

    .photo-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .photo-preview.placeholder::before,
    .photo-preview.placeholder::after {
      content: "";
      position: absolute;
      width: 60%;
      height: 2px;
      background: #9ca3af;
      top: 50%;
      left: 50%;
    }
    .photo-preview.placeholder::before {
      transform: translate(-50%, -50%) rotate(45deg);
    }
    .photo-preview.placeholder::after {
      transform: translate(-50%, -50%) rotate(-45deg);
    }

    /* REMOVE THE BIG X FROM THUMB + PHOTO PREVIEW */
    .thumb.placeholder::before,
    .thumb.placeholder::after,
    .photo-preview.placeholder::before,
    .photo-preview.placeholder::after {
      content: none !important;
    }

    .choose-photo-btn {
      text-align: center;
      font-size: 13px;
      color: var(--accent-strong);
      cursor: pointer;
      margin-bottom: 18px;
      text-decoration: underline;
      text-underline-offset: 2px;
    }

    .choose-photo-btn:hover {
      color: var(--accent);
    }

    /* LOG LIST */

    .log-list {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .log-card {
      background: #ffffff;
      border-radius: 14px;
      padding: 10px 12px;
      font-size: 13px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.05);
    }

    .log-title {
      font-weight: 700;
      margin-bottom: 4px;
      color: var(--accent-strong);
      font-size: 13px;
    }

    /* PILLS (personality + mood + medication) */

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .pill {
      padding: 7px 12px;
      background: var(--pill-bg);
      border-radius: 999px;
      font-size: 13px;
      cursor: pointer;
      border: 1px solid transparent;
      color: var(--text-main);
      transition: background 0.12s ease, border-color 0.12s ease, transform 0.08s ease;
    }

    .pill.selected {
      border-color: var(--pill-border);
      background: #d6ebe8;
      transform: translateY(-1px);
    }
  </style>
</head>
<body>
<div class="phone">

  <!-- HOME -->
  <section class="screen active" id="screen-home">
    <h2>FosterTrack</h2>
    <p>Your foster cats:</p>
    <div class="cat-list" id="cat-list"></div>
    <div class="fab" id="btn-add-cat"></div>
  </section>

  <!-- ADD NEW CAT -->
  <section class="screen" id="screen-add-cat">
    <div class="back-link" data-back="home">Back</div>
    <h2>Add a New Foster Cat</h2>

    <!-- PHOTO PREVIEW BOX -->
    <div class="photo-preview placeholder" id="cat-photo-preview"></div>
    <div class="choose-photo-btn" id="choose-photo-btn">Choose photo from device</div>
    <input type="file" id="cat-photo-input" accept="image/*" style="display:none;" />

    <div class="row">
      <div class="field">
        <label>Name</label>
        <input id="cat-name" type="text" />
      </div>

      <div class="field">
        <label>Status</label>
        <select id="cat-status">
          <option value="In Foster">In Foster</option>
          <option value="Adopted">Adopted</option>
          <option value="Medical Hold">Medical Hold</option>
          <option value="Pending Adoption">Pending Adoption</option>
          <option value="Transferred">Transferred</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="field">
        <label>Intake Date</label>
        <input id="cat-intake" type="date" />
      </div>
      <div class="field">
        <label>Gender</label>
        <select id="cat-gender">
          <option value="Unknown">Unknown</option>
          <option value="Female">Female</option>
          <option value="Male">Male</option>
          <option value="Female (Spayed)">Female (Spayed)</option>
          <option value="Male (Neutered)">Male (Neutered)</option>
        </select>
      </div>
    </div>

    <!-- Personality -->
    <div class="field">
      <label>Personality</label>
      <div class="pill-row" id="personality-pills"></div>
    </div>

    <div class="field">
      <label>Notes</label>
      <textarea id="cat-notes"></textarea>
    </div>

    <div class="button-row">
      <button class="btn-secondary" data-back="home">Cancel</button>
      <button class="btn-primary" id="btn-save-cat">Save</button>
    </div>
  </section>

  <!-- CAT LOGS -->
  <section class="screen" id="screen-cat-logs">
    <div class="back-link" data-back="home">Back to Cats</div>
    <h2 id="logs-cat-name">Cat</h2>
    <div class="log-list" id="log-list"></div>
    <div class="fab" id="btn-add-log"></div>
  </section>

  <!-- ADD NEW LOG -->
  <section class="screen" id="screen-add-log">
    <div class="back-link" data-back="logs">Back to Logs</div>
    <h2>New Log</h2>

    <div class="field">
      <label>Date</label>
      <input id="log-date" type="date" />
    </div>

    <div class="field">
      <label>Mood</label>
      <div class="pill-row">
        <div class="pill" data-mood="Happy">Happy</div>
        <div class="pill" data-mood="Neutral">Neutral</div>
        <div class="pill" data-mood="Sad">Sad</div>
      </div>
    </div>

    <div class="field">
      <label>Medication</label>
      <div class="pill-row">
        <div class="pill" data-med="Yes">Yes</div>
        <div class="pill" data-med="No">No</div>
      </div>
    </div>

    <div class="field">
      <label>Medication Details</label>
      <input id="log-meds" type="text" />
    </div>

    <div class="field">
      <label>Notes</label>
      <textarea id="log-notes"></textarea>
    </div>

    <div class="button-row">
      <button class="btn-secondary" data-back="logs">Cancel</button>
      <button class="btn-primary" id="btn-save-log">Save</button>
    </div>
  </section>
</div>

<script>
  const state = {
    cats: [],
    currentCatId: null,
    currentMood: null,
    currentMed: null
  };

  function showScreen(id) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
  }

  function getCurrentCat() {
    return state.cats.find(c => c.id === state.currentCatId) || null;
  }

  /* PERSONALITY */
  const personalityOptions = [
    "Shy","Playful","Relaxed","Independent",
    "Energetic","Affectionate","Curious","Quiet","Vocal","Calm"
  ];
  const personalityPillsContainer = document.getElementById("personality-pills");

  personalityOptions.forEach(option => {
    const pill = document.createElement("div");
    pill.className = "pill";
    pill.textContent = option;
    pill.dataset.personality = option;

    pill.addEventListener("click", () => pill.classList.toggle("selected"));
    personalityPillsContainer.appendChild(pill);
  });

  /* PHOTO UPLOAD */
  const previewBox = document.getElementById("cat-photo-preview");
  const chooseBtn = document.getElementById("choose-photo-btn");
  const photoInput = document.getElementById("cat-photo-input");

  chooseBtn.addEventListener("click", () => photoInput.click());

  photoInput.addEventListener("change", () => {
    const file = photoInput.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = () => {
      previewBox.classList.remove("placeholder");
      previewBox.innerHTML = `<img src="${reader.result}" />`;
      previewBox.dataset.photo = reader.result;
    };
    reader.readAsDataURL(file);
  });

  /* RENDER CATS */
  function renderCats() {
    const container = document.getElementById("cat-list");
    container.innerHTML = "";

    if (state.cats.length === 0) {
      const empty = document.createElement("p");
      empty.textContent = "No foster cats yet. Tap + to add one.";
      empty.style.color = "#6b7280";
      empty.style.fontSize = "13px";
      return container.appendChild(empty);
    }

    state.cats.forEach(cat => {
      const card = document.createElement("div");
      card.className = "cat-card";

      card.innerHTML = `
        <div class="thumb ${cat.photo ? "" : "placeholder"}">
          ${cat.photo ? `<img src="${cat.photo}">` : ""}
        </div>
        <div>
          <div class="cat-name">${cat.name}</div>
          <div class="cat-subinfo">
            ${cat.status}${cat.gender ? ` • ${cat.gender}` : ""} • ${cat.intakeDate || "No date"}
            ${cat.personality.length ? ` • ${cat.personality.join(", ")}` : ""}
          </div>
        </div>
        <button class="delete-btn">Delete</button>
      `;

      card.addEventListener("click", () => {
        state.currentCatId = cat.id;
        renderLogs();
        showScreen("screen-cat-logs");
      });

      card.querySelector(".delete-btn").addEventListener("click", (e) => {
        e.stopPropagation();
        state.cats = state.cats.filter(c => c.id !== cat.id);
        renderCats();
      });

      container.appendChild(card);
    });
  }

  /* ADD CAT */
  document.getElementById("btn-add-cat").addEventListener("click", () => {
    document.getElementById("cat-name").value = "";
    document.getElementById("cat-status").value = "In Foster";
    document.getElementById("cat-intake").value = "";
    document.getElementById("cat-gender").value = "Unknown";
    document.getElementById("cat-notes").value = "";
    document.querySelectorAll("[data-personality]").forEach(p => p.classList.remove("selected"));

    previewBox.innerHTML = "";
    previewBox.classList.add("placeholder");
    previewBox.dataset.photo = "";

    showScreen("screen-add-cat");
  });

  document.getElementById("btn-save-cat").addEventListener("click", () => {
    const name = document.getElementById("cat-name").value.trim();
    if (!name) return alert("Please enter a name.");

    const selectedPersonalities =
      [...document.querySelectorAll("[data-personality].selected")].map(p => p.dataset.personality);

    const newCat = {
      id: Date.now().toString(),
      name,
      status: document.getElementById("cat-status").value,
      intakeDate: document.getElementById("cat-intake").value,
      gender: document.getElementById("cat-gender").value,
      notes: document.getElementById("cat-notes").value.trim(),
      personality: selectedPersonalities,
      photo: previewBox.dataset.photo || "",
      logs: []
    };

    state.cats.push(newCat);
    renderCats();
    showScreen("screen-home");
  });

  /* LOGS */
  function renderLogs() {
    const cat = getCurrentCat();
    const list = document.getElementById("log-list");
    list.innerHTML = "";

    document.getElementById("logs-cat-name").textContent = cat.name;

    if (cat.logs.length === 0) {
      const empty = document.createElement("p");
      empty.textContent = "No logs yet. Tap + to add one.";
      empty.style.color = "#6b7280";
      empty.style.fontSize = "13px";
      return list.appendChild(empty);
    }

    cat.logs.slice().reverse().forEach((log, index) => {
      const card = document.createElement("div");
      card.className = "log-card";

      card.innerHTML = `
        <div class="log-title">Log ${cat.logs.length - index}</div>
        <div>${log.date}</div>
        <div>Mood: ${log.mood}</div>
        <div>Medication: ${log.medication}</div>
        ${log.notes ? `<div>${log.notes}</div>` : ""}
      `;

      list.appendChild(card);
    });
  }

  document.getElementById("btn-add-log").addEventListener("click", () => {
    const cat = getCurrentCat();
    if (!cat) return;

    state.currentMood = null;
    state.currentMed = null;

    document.querySelectorAll('.pill[data-mood]').forEach(p => p.classList.remove("selected"));
    document.querySelectorAll('.pill[data-med]').forEach(p => p.classList.remove("selected"));

    document.getElementById("log-date").value = "";
    document.getElementById("log-meds").value = "";
    document.getElementById("log-notes").value = "";

    showScreen("screen-add-log");
  });

  document.querySelectorAll('.pill[data-mood]').forEach(pill => {
    pill.addEventListener("click", () => {
      document.querySelectorAll('.pill[data-mood]').forEach(p => p.classList.remove("selected"));
      pill.classList.add("selected");
      state.currentMood = pill.dataset.mood;
    });
  });

  document.querySelectorAll('.pill[data-med]').forEach(pill => {
    pill.addEventListener("click", () => {
      document.querySelectorAll('.pill[data-med]').forEach(p => p.classList.remove("selected"));
      pill.classList.add("selected");
      state.currentMed = pill.dataset.med;
    });
  });

  document.getElementById("btn-save-log").addEventListener("click", () => {
    const cat = getCurrentCat();
    if (!cat) return;

    const newLog = {
      id: Date.now().toString(),
      date: document.getElementById("log-date").value,
      mood: state.currentMood,
      medication: state.currentMed,
      notes: document.getElementById("log-notes").value.trim()
    };

    cat.logs.push(newLog);
    renderLogs();
    showScreen("screen-cat-logs");
  });

  document.querySelectorAll("[data-back]").forEach(el => {
    el.addEventListener("click", () => {
      const target = el.dataset.back;
      if (target === "home") showScreen("screen-home");
      if (target === "logs") showScreen("screen-cat-logs");
    });
  });

  renderCats();
</script>

</body>
</html>
